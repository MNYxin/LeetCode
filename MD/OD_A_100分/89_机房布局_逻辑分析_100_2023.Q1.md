**所有题目均有五种语言实现。
**[C实现目录](https://renjie.blog.csdn.net/article/details/129190260 "C实现目录")** 、
** ** ** ** ** ** **[C++
实现目录](https://blog.csdn.net/misayaaaaa/category_12036814.html "C++
实现目录")************** 、 ** ** ** ** ** **
**[Python实现目录](https://blog.csdn.net/misayaaaaa/category_12111005.html
"Python实现目录")************** 、 ** ** ** ** ** **
**[Java实现目录](https://blog.csdn.net/misayaaaaa/category_12111006.html
"Java实现目录")************** 、 ** ** ** ** ** **
**[JavaScript实现目录](https://blog.csdn.net/misayaaaaa/category_12199270.html
"JavaScript实现目录")****************

# 题目

> **题目描述**  
>  小明正在规划一个大型数据中心机房，为了使得机柜上的机器都能正常满负荷工作，需要 **确保在每个机柜边上至少要有一个电箱** 。  
>  为了简化题目，假设这个机房是一整排，M表示机柜，I表示间隔，请你返回这整排机房，至少需要多少个电箱。如果无解请返回-1。  
>  **输入描述**  
>  第一行输入一个字符串，由 M 和 I 组成，表示机房的组成样式  
>  **输出描述**  
>  输出一个整数，表示整排机房至少需要多少个电箱。如果无解请返回-1。  
>  **示例1：**  
>  输入：
>
> MIIM  
>  输出：  
>  2

# 思路

> 1：首先题目中最重要的一句话：“ **确保在每个机柜边上至少要有一个电箱** ”， 理解这句话之后，无解的情况和正常的求解才能进行。
>
> 2：首先是无解的情况，因为机柜边上至少有一个电箱， **第一种无效情况** ：那么夹在两个机柜中间的机柜肯定无解，例如：IMMMI。
> **第二种无效情况：** 就是边缘的情况，如果一个机柜在最左边，它的右边有一个机柜，那肯定也是无解的，例如：MMI。
>
> 3：正常的求解，怎样才能使得机箱的个数是最少的呢？肯定是 **两个机柜公用一个机箱** 的情况。例如：IMIMI, 这种情况下
> ，放在两个机柜中间的机箱，只需要一个就够了。
>
> 4：那么需要做的就是 **找出间隔一个的两个机柜** 。也就转换成了字符串的判断。

# 考点

> 1：字符串处理

# Code

模拟

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    import sys
    from collections import Counter, defaultdict
    import copy
    from itertools import permutations
    import re
    import math
    import sys
    
    def comp(a, b):
        return b[1] - a[1]
    
    
    #处理输入
    input_str = input()
    
    n = len(input_str)
    result = 0
    i = 0
    while (i < n):
        c = input_str[i]
        if (c == 'M'):
            if (i + 1 < n and input_str[i+1] == 'I'):
                result+=1
                i += 3
            elif (i - 1 >= 0 and input_str[i-1] == 'I'):
                result+=1
                i+=1
            else:
                result = -1
                break
            
        else:
            i+=1
        
    print(result)
    

栈

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    import sys
    from collections import Counter, defaultdict
    import copy
    from itertools import permutations
    import re
    import math
    import sys
    
    def comp(a, b):
        return b[1] - a[1]
    
    
    #处理输入
    input_str = input()
    
    n = len(input_str)
    stack = []
    flag = False
    valid_flag = False
    
    for i in range(n):
        if (input_str[i] == 'M'):
            # 无效判断
            # 1:中间无效
            if (i - 1 >= 0 and input_str[i-1] == 'M' and i + 1 < n and input_str[i+1] == 'M'):
                print(-1)
                valid_flag = True
                break
            
            # 2:两边无效
            if ((i - 1 == 0 and input_str[i-1] == 'M') or (i+1==n and input_str[i-1] == 'M')):
                print(-1)
                valid_flag = True
                break
            
    
    
            #当前机柜的左右位置
            pos_left =max(0, i - 1)
            pos_right = min(n - 1, i + 1)
            
            if (len(stack) > 0 and not flag):
                # 满足 MIM 的样式
                if (stack[-1] == pos_left):
                    stack.pop()
                    flag = True
            else:
                flag = False
            
            stack.append(pos_right)
        
    
    if not valid_flag:
        print(len(stack))
    

## 要求

> 时间限制：C/C++ 1秒，其他语言 2秒
>
> 空间限制：C/C++262144K，其他语言524288K
>
> 64bit IO Format：%lld
>
> 语言限定：  
>  C（clang11）, C++（clang++11）, Pascal（fpc 3.0.2）, Java（javac 1.8）,
> Python2（2.7.3）,  
>  PHP(7.4.7), C#(mcs5.4), ObjC(gcc 5.4), Pythen3(3.9), JavaScript
> Node(12.18.2), JavaScript V8(6.0.0),  
>  Sqlite(3.7.9), R(4.0.3), Go(1.14.4), Ruby(2.7.1), Swift(5.3), matlab(Octave
> 5.2), Pypy2(pypy2.7.13),  
>  Pypy3(pypy3.6.1), Rust(1.44), Scala(2.11.12), Kotlin(1.4.10),
> Groovy(3.0.6), TypeScript(4.1.2), Mysql(8.0)

