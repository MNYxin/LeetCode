**所有题目均有五种语言实现。
**[C实现目录](https://renjie.blog.csdn.net/article/details/129190260 "C实现目录")** 、
** ** ** ** ** ** **[C++
实现目录](https://blog.csdn.net/misayaaaaa/category_12036814.html "C++
实现目录")************** 、 ** ** ** ** ** **
**[Python实现目录](https://blog.csdn.net/misayaaaaa/category_12111005.html
"Python实现目录")************** 、 ** ** ** ** ** **
**[Java实现目录](https://blog.csdn.net/misayaaaaa/category_12111006.html
"Java实现目录")************** 、 ** ** ** ** ** **
**[JavaScript实现目录](https://blog.csdn.net/misayaaaaa/category_12199270.html
"JavaScript实现目录")****************

# 题目

> 给定一个由纯数字组成以字符串表示的数值，现要求字符串中的每个数字最多只能出现2次，超过的需要进行删除；
>
> 删除某个重复的数字后，其它数字相对位置保持不变。
>
> 如”34533″，数字3重复超过2次，需要删除其中一个3，删除第一个3后获得最大数值”4533″
>
> 请返回经过删除操作后的最大的数值，以字符串表示。
>
> **输入描述**
>
> 第一行为一个纯数字组成的字符串，长度范围：[1,100000]
>
> **输出描述**
>
> 输出经过删除操作后的最大的数值
>
> **示例1**
>
> 输入:
>
> 34533
>
> 输出:  
>  4533
>
> **示例2**
>
> 输入:
>
> 5445795045
>
> 输出:  
>  5479504

# 思路

> 1：是一个改编题目，原题在 leetcode 上，[消除重复数字](https://leetcode.cn/problems/remove-
> duplicate-letters/solution/qu-chu-zhong-fu-zi-mu-by-leetcode-soluti-vuso/
> "消除重复数字")，题目只是将数字出现次数从2改为了1，但是核心的思路是不变的。
>
> 2：贪心+单调栈，关键在于怎么剔除多余的重复元素，核心就是：
> **当前数字大于栈尾数字，且栈尾数字出现超过2次，那么为了选出最大元素，需要剔除栈尾数字，放入当前数字**
> 。具体的证明过程可以看leetcode上的解答，也可以调试一下看看每一次的选择过程是怎样进行的。

# 考点

> 1：贪心+单调栈

# Code

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    
    def get_max_number(nums):
        # 统计出现次数 + 已经使用的次数
        cnt = {}
        st_cnt = {}
        for v in nums:
            if v in cnt:
                cnt[v] += 1
            else:
                cnt[v] = 1
        # 栈
        res = []
        res.append(-1)
        for x in nums:
            # 已经使用2次，直接跳过
            if (x in st_cnt and st_cnt[x] == 2):
                cnt[x]-=1
                continue
            
            # 当前数字大于栈尾数字，且栈尾数字出现超过2次
            while (x > res[-1] and res[-1] in cnt and cnt[res[-1]] > 2):
                cnt[res[-1]]-=1
                st_cnt[res[-1]]-=1
                res.pop()
            
            res.append(x)
            if x in st_cnt:
                st_cnt[x] += 1
            else:
                st_cnt[x] = 1
    
        for x in res:
            if x != -1:
                print(x, end="")
    
     
    #处理输入
    nums = [int(x) for x in input()]
    get_max_number(nums)
    
    
    
    

