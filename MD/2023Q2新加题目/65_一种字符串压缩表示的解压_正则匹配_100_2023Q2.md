**目录**

题目

思路

Code

* * *

## 题目

> 有一种简易压缩算法：针对全部为小写英文字母组成的字符串，将其中连续超过两个相同字母的部分压缩为连续个数加该字母，其他部分保持原样不变。
> 例如字符串`aaabbccccd` 经过压缩变成字符串 `3abb4cd` 请 **您编写解压函数,** 根据输入的字符串,
> 判断其是否为合法压缩过的字符串 若输入合法则输出解压缩后的字符串 否则输出字符串`!error`来报告错误
>
> **输入描述：**
>
> 输入一行，为一个 ASCII 字符串 长度不超过`100`字符 用例保证输出的字符串长度也不会超过`100`字符串
>
> **输出描述：**
>
> 若判断输入为合法的经过压缩后的字符串 则输出压缩前的字符串 若输入不合法 则输出字符串`!error`
>
> **`示例1：`**
>
> **`输入：`**
>
> `4dff  
>  输出`
>
> `ddddff  
>  说明`
>
> `4d扩展为dddd，故解压后的字符串为ddddff.`  
>
>
> **`示例2：`**
>
> **`输入：`**
>
> `2dff  
>  输出`
>
> `!error  
>  说明`
>
> `两个d不需要压缩，故输入不合法`
>
> **`示例3：`**
>
> **`输入：`**
>
> `4d@A  
>  输出`
>
> `!error  
>  说明`  
> `全部由小写英文字母组成的字符串压缩后不会出现特殊字符@和大写字母A，故输入不合法。`
>
> ``![](https://img-blog.csdnimg.cn/8d9986f0403946c7868b8c28111d44b1.jpeg)``

# 思路

> 1：比较常见的字符串处理类题目。
>
> 2：可以利用正则表达式来判断数字+字母的组合。

# ![](https://img-blog.csdnimg.cn/42eca8c5691144f2a9511821b795bf3e.jpeg)

# Code

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    import sys
    from collections import Counter, defaultdict
    import copy
    from itertools import permutations
    import re
    import math
    import sys
    import bisect
    
    #先解压
    def getunzip_str(string):
        left = 0
        right = 0
        result_str =""
        while right < len(string):
            if string[left].isdigit():
                right += 1
                if string[right].isalpha():
                    result_str += (f'{string[right]}' * int(string[left:right]))
                    right += 1
                    left = right
            elif string[left].isalpha():
                result_str += (f'{string[right]}')
                left += 1
                right = left
        return result_str
    
    def getzip_str(all_str,all_str1):
        left = 0
        right = 0
        result_list = []
        while right < len(all_str):
            right += 1
            if all_str1[left] != all_str1[right]:
                if right - left > 2:
                    result_list.append(f'{right - left}' + all_str[left])
                else:
                    result_list.append(all_str[left] * (right - left))
                left = right
        return ''.join(result_list)
    
    
    
    string = input()
    all_str = getunzip_str(string)
    if all_str.isalpha():
        if getzip_str(all_str, all_str+'1') == string:
            print(all_str)
        else:
            print('!error')
    else:
        print('!error')
    
    

##

> **【华为od机试真题Python+JS+Java合集】【超值优惠】：
> **[Py/JS/Java合集](https://blog.csdn.net/misayaaaaa/category_12258991.html
> "Py/JS/Java合集")****
>
> **【华为od机试真题Python】：
> **[Python真题题库](https://blog.csdn.net/misayaaaaa/category_12111005.html
> "Python真题题库")****
>
> **【华为od机试真题JavaScript】：
> **[JavaScript真题题库](https://blog.csdn.net/misayaaaaa/category_12199270.html
> "JavaScript真题题库")****
>
> **【华为od机试真题Java】：
> **[Java真题题库](https://blog.csdn.net/misayaaaaa/category_12111006.html
> "Java真题题库")****
>
> **【华为od机试真题C++】：
> **[C++真题题库](https://blog.csdn.net/misayaaaaa/category_12036814.html
> "C++真题题库")****
>
> **【华为od机试真题C语言】：
> **[C语言真题题库](https://blog.csdn.net/misayaaaaa/category_12217917.html
> "C语言真题题库")****
>
> **【华为od面试手撕代码题库】：
> **[面试手撕代码题库](https://renjie.blog.csdn.net/article/details/130419388
> "面试手撕代码题库")****
>
> **【华为od机试面试交流群：830285880】**

