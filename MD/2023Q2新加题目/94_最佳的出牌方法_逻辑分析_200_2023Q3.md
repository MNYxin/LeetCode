**目录**

题目

思路

Code

* * *

## 题目

> 手上有一副扑克牌，每张牌按牌面数字记分（J=11,Q=12,K=13，没有大小王)，出牌时按照以下规则记分：  
>  出单张，记牌面分数，例如出一张2，得分为2  
>  出对或3张，记牌面分数总和再x2，例如出3张3，得分为(3+3+3)x2=18  
>  出5张顺，记牌面分数总和再x2，例如出34567顺，得分为(3+4+5+6+7)x2=50  
>  出4张炸弹，记牌面分数总和再x3，例如出4张4，得分为4x4x3=48  
>  求出一副牌最高的得分数。
>
> **输入描述**  
>  按顺序排好的一副牌，最少1张，最多15张。  
>  1-9输入为数字1-9，10输入为数字0，JQK输入为大写字母JQK.  
>  无需考虑输入非法的情况，例如输入字符不在[0-9JQK]范围或某一张牌超过4张  
>  **输出描述**  
>  最高的得分数  
>  **备注**  
>  积分规则中没有的出牌方式不支持，例如不支持3带1、4带2，不支持5张以上的顺，且10JQKA(OJQK1)不算顺.
>
> **示例1：**
>
> **输入** ：
>
> 33445677  
>  输出
>
> 67  
>  说明  
>  出对3、对4、对7，单张5、6，得分为67:出34567顺，再出单张3、4、7，得分为64输出结果67因此最高得分是按对出，可得到最高分67，
>
> ![](https://img-blog.csdnimg.cn/400f96344ea34171af3e2032044b3552.jpeg)

# 思路

> 1：其实也就几种情况，好好分析下就好。主要看每种牌的张数。  
>  第一种情况：牌只有1张，若作为单张的话，得分x. 若作为顺子一部分的话，得分x*2 【出顺子会多得x分】
>
> 第二种情况：牌只有2张，若作为对子的话，得分x*2*2 = 4x. 若作为顺子一部分再加一张单张，得分x*2 + x = 3x 【出顺子会少x分】
>
> 第三种情况：牌只有3张，若作为三张的话，得分x*3*2 = 6x. 若作为顺子一部分再加一个对子，得分 x*2 +x* 2*2=x*3*2 = 6x
> 【出顺子不少分】
>
> 第四种情况：牌只有4张，若作为炸弹的话，得分x*4*3=12x. 若作为顺子一部分再加一个三张，得分x*2 + x*3*2 = 8x【出顺子会少4x分】  
>
> 2：这样我们就可以构造一个hashmap，key为牌得点数，value为该牌得张数，构造去重后得牌，从头开始构造长度为5的窗口，查看是否连续，如果可以构成顺子，则判断这五张牌的张数按照上述情况组成顺子是否可以多得分。
>
> 3：不断遍历，直到没有顺子存在。

# ![](https://img-blog.csdnimg.cn/42eca8c5691144f2a9511821b795bf3e.jpeg)

# Code

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    import sys
    from collections import Counter, defaultdict
    import copy
    from itertools import permutations
    import re
    import math
    import sys
    from queue import Queue
    def solve(card_count, index) :
            add_val = 0
            for i in range(index, index+5):
                if (card_count[i] == 0) :
                    return -float("inf")
                elif(card_count[i]==1) :
                    add_val += i
                elif(card_count[i]==2) :
                    add_val -= i
                elif(card_count[i]==4) :
                    add_val -= i*4
            return add_val
        
     
    cards = input()
    #数组平替hashmap
    card_count = [0] * 14
     
    # 统计牌的数量
    for card in cards:
        if card == '0':
            card_count[10] += 1
        elif card == 'J':
            card_count[11] += 1
        elif card == 'Q':
            card_count[12] += 1
        elif card == 'K':
            card_count[13] += 1
        else:
            i = ord(card) - ord('0')
            card_count[i] += 1
    
    value = 0
        
    # 找顺子
    while (True) :
        maxest = 0
        left = 0
        m=1
        while(True) :
            if(m>=10):
                break
            else :
                temp = solve(card_count, m)
                if (temp > maxest) :
                    maxest = temp
                    left = m
            m+=1
    
        if (left == 0) :
            break
        
    
        for i in range(left, left+5):
            value += i * 2
            card_count[i]-=1
        
    
    
    for i in range(1, 14):
        if (card_count[i] == 1):
            value += i 
        elif (card_count[i] == 3  or card_count[i] == 2 ):
            value += i * card_count[i] * 2
        elif (card_count[i] == 4):
            value += i * card_count[i] * 3
            
    
    
    print(value)
    
     
     
    

> **【华为od机试真题Python+JS+Java合集】【超值优惠】：
> **[Py/JS/Java合集](https://blog.csdn.net/misayaaaaa/category_12258991.html
> "Py/JS/Java合集")****
>
> **【华为od机试真题Python】：
> **[Python真题题库](https://blog.csdn.net/misayaaaaa/category_12111005.html
> "Python真题题库")****
>
> **【华为od机试真题JavaScript】：
> **[JavaScript真题题库](https://blog.csdn.net/misayaaaaa/category_12199270.html
> "JavaScript真题题库")****
>
> **【华为od机试真题Java】：
> **[Java真题题库](https://blog.csdn.net/misayaaaaa/category_12111006.html
> "Java真题题库")****
>
> **【华为od机试真题C++】：
> **[C++真题题库](https://blog.csdn.net/misayaaaaa/category_12036814.html
> "C++真题题库")****
>
> **【华为od机试真题C语言】：
> **[C语言真题题库](https://blog.csdn.net/misayaaaaa/category_12217917.html
> "C语言真题题库")****
>
> **【华为od面试手撕代码题库】：
> **[面试手撕代码题库](https://renjie.blog.csdn.net/article/details/130419388
> "面试手撕代码题库")****
>
> **【华为od机试面试交流群：830285880】**

