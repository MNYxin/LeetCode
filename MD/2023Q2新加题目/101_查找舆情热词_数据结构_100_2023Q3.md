**目录**

题目

思路

考点

Code

* * *

# 题目

> 网上新闻越来越多，希望对新闻进行热词处理并归类，方便获取信息，现在已经将每篇文章处理为2个字符串，即一个标题，一个正文串，字符串中使用“
> ”作为分隔符进行分词。
>
>
> M篇新闻按照新闻发布的先后顺序处理完并输入，现在希望对所有新闻中出现的词语进行处理，输出出现频率最高的topN个词语，作为热词。标题中出现的词语频率系数为3，正文中出现的词语频率系数为1；返回的答案按照词语出现频率由高到低排序，当词语出现的频率相同时，在标题中出现的频率次数高的排在前面；如果仍然相同，则按照词语在标题中出现的先后顺序进行排序，先出现的排在前面；如果仍然相同，则按照词语在正文中出现的先后顺序进行排序，先出现的排在前面。
>
> **输入描述**  
>  第一行输入为正整数topN和文章数M，即要输出的出现频率最高的词语的个数和处理文章的数量，由于每篇文章被处理为标题和正文2行，因此后面有2 *
> M行数据。
>
>
> 从第二行起，是按顺序处理后每篇文章的标题串和正文串，即第二行是第一篇文章的标题串，第三行是第一篇文章的正文串，第四行是第二篇文章的标题串，第五行是第二篇文章的正文串，以此类推。
>
> 参数限制如下：  
>  0 < topN < 1000  
>  0 < M < 100000  
>  0 < 每篇文章的词语数 < 5000
>
> **输出描述**  
>  使用一行输出出现频率最高的topN个词语，每个词语以“ ”隔开。
>
> **示例一：**  
>  **输入**
>  
>  
>     3 2
>     xinguan feiyan xinzeng bendi quezhen anli
>     ju baodao chengdu xinzeng xinguan feiyan bendi quezhen anli yili
> shenzhen xinzeng bendi quezhen anli liangli yiqing zhhengti kongzhi lianghao
>     xinguan yimiao linchuang shiyan
>     wuzhong xinguan yimiao tongguo sanqi linchuang shiyan xiaoguo lianghao
>
>  
> **输出**  
>  xinguan xinzeng bendi  
>  **解释：**  
>  各词语出现频率：
>
> xinguan=2*3+2=8  
>  feiyan=1*3+1=4  
>  xinzeng=1*3+2=5  
>  bendi=1*3+2=5  
>  quezhen=1*3+2=5  
>  anli=1*3+2=5  
>  yimiao=1*3+1=4  
>  linchuang=1*3+1=4  
>  shiyan=1*3+1=4  
>  返回频率最高的三个词语，有4个词语出现频率都为5，标题出现频率都为3，所以选择先出现的两个词语xinzeng和bendi
>
> ![](https://img-blog.csdnimg.cn/9872121c10e84f91b123472ac400ed06.jpeg)

# 思路

> 1：常考的问题。两个步骤，第一统计次数，（这个步骤要将排序所需的信息都保存下来）。第二按照题目要求的集中排序方式进行排序。
>
> 2：数据结构就是HashMap + List。

# 考点

> 1：数据结构

# Code

    
    
    import functools
    import collections
    import math
    from itertools import combinations
    from re import match
    import copy 
    from collections import defaultdict
    
    params = [int(x) for x in input().split(" ")]
    M = params[0]
    N = params[1]
    
    # key为单词，value为数组，用来保存排序所需的信息
    # 数组种保存的信息是: 单词出现次数 标题中出现次数 标题中的顺序 正文中的顺序
    news_map = {}
    title_order = 0
    text_order = 0
    for i in range(N):
        #首先是标题
        title = input().split(" ")
        for j in range(len(title)):
            if title[j] not in news_map:
                news_map[title[j]] = [0, 0, title_order, -1]
    
            info = news_map[title[j]]
            #若单词是首先出现在正文中的，那么要更新以下顺序
            if (info[2] == -1):
                info[2] = title_order
            
            # 标题中出现的词语频率系数为3，正文中出现的词语频率系数为1
            info[0] += 3
            info[1]+=1
            title_order+=1
        
        #其次是正文
        text = input().split(" ")
        for j in range(len(text)):
            if text[j] not in news_map:
                news_map[text[j]] = [0, 0, -1, text_order]
            
            info = news_map[text[j]]
            if (info[3] == -1):
                info[3] = text_order
            
            info[0]+=1
            text_order+=1
        
    
    # Map按value排序，先将map转为list,再排序list(按value值进行排序)
    new_list = []
    for key in news_map:
        new_list.append([key, news_map[key]])
    
    new_list = sorted(new_list, key=lambda x:(-x[1][0], -x[1][1], x[1][2], x[1][3]))
    
    # 输出
    output_str = ""
    for i in range(M):
        if (i !=len(new_list) - 1):
            output_str += str(new_list[i][0]) + " "
        else:
            output_str += str(new_list[i][0])
    print(output_str)
        
    
                    
    

