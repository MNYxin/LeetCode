**目录**

题目

思路

Code

* * *

## 题目

>
> 现在你要竞选一个县的县长。你去对每一个选民进行了调查。你已经知道每一个人要选的人是谁，以及要花多少钱才能让这个人选你。现在你想要花最少的钱使得你当上县长。你当选的条件是你的票数比任何一个其它候选人的多（严格的多，不能和他们中最多的相等）。请计算一下最少要花多少钱。
>
> # 输入
>
> 单组测试数据。  
>  第一行有一个整数 (1≤n≤10^5) ，表示这个县的选民数目。  
>  接下来有 n 行，每一行有两个整数 ai 和 bi(0≤ai≤10^5;0≤bi≤10^4) ，表示第 i 个选民选的是第 ai
> 号候选人，想要让他选择自己就要花 bi 的钱。你是 0 号候选人（所以，如果一个选民选你的话 ai 就是 0 ，这个时候bi 也肯定是 0 ）。
>
> # 输出
>
> 输出一个整数表示花费的最少的钱。
>
> 示例1：
>
> 输入：
>
> 5  
>  1 2  
>  1 2  
>  1 2  
>  2 1  
>  0 0
>
> 输出：
>
> 3

# 思路

> 1：这道题目的难度很大，网上搜了很多的解法，之前我也不会线段树。
>
> 2：线段树的入门算法可以参考下这两篇文章：[线段树入门 |
> GreenHatHGのBlog](https://greenhathg.github.io/2019/04/24/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%85%A5%E9%97%A8/
> "线段树入门 | GreenHatHGのBlog")
>
> <https://www.cnblogs.com/silentEAG/p/10808978.html>
>
> 3：CSDN上有很多人早就写了这个解法，可以参考参考：[【51nod】1494 选举拉票 扫描线+线段树_选举拉票
> csdn_Chester_King的博客-
> CSDN博客](https://blog.csdn.net/lyfsb/article/details/78286306 "【51nod】1494
> 选举拉票 扫描线+线段树_选举拉票 csdn_Chester_King的博客-CSDN博客")
>
> 4：真是考试的时候遇到这个题，那说明运气用完了。
>
>
> 5：牛客上看到有人考到了：[华为od面经_牛客网](https://www.nowcoder.com/feed/main/detail/1c5bf5622c1744ee9a8ab265505bb00b?sourceSSR=search
> "华为od面经_牛客网")

# ![](https://img-blog.csdnimg.cn/42eca8c5691144f2a9511821b795bf3e.jpeg)

# Code

    
    
    import functools
    import collections
    import math
    from itertools import combinations
    from re import match
    import copy 
    from collections import defaultdict
    
    
    n = int(input())
    
    max_b=1
    max_a=0
    result =0
    tree1 = [[] for i in range(10005)]
    f = [[] for i in range(10005)]
    num = [ 0 for i in range(40000)]
    t = [ 0 for i in range(40000)]
    
    #分别取出a,b两个数组的最大值
    for i in range(n):
        params = [int(x) for x in input().split(" ")]
        x =params[0]
        y=params[1]
        
        max_a=max(max_a,x)
        if(y==0):
            continue
        
        max_b=max(y,max_b)
        result+=y
        tree1[x].append(y)
    
    
    for i in range(1, max_a+1):
        temp = tree1[i]
        if(len(temp)>0) :
            temp.sort()
            for j in range(len(temp)):
                f[j+1].append(temp[j])
    
    def change(x,l,r,q,num,t) :
        if(l==r):
            num[x] += 1
            t[x]+=1*l
            return
        
        mid=(l+r)>>1
        if(q<=mid):
            change(x<<1,l,mid,q,num,t)
        else:
            change(x<<1|1,mid+1,r,q,num,t)
        t[x]=t[x<<1]+t[x<<1|1]
        num[x]=num[x<<1]+num[x<<1|1]
    
    
    def query(x,l,r,q,num, t) :
        if(l==r):
            return 1*l*q
        mid=(l+r)>>1
        if(q==num[x<<1]):
            return t[x<<1]
        if(q>num[x<<1]):
            return t[x<<1]+query(x<<1|1,mid+1,r,q-num[x<<1],num,t)
        else:
            return query(x<<1,l,mid,q,num,t)
        
    
    k=n
    tmp=result
    for i in range(1, n+1):
        k-=len(f[i])
        for j in range(len(f[i])):
            change(1,1,max_b,f[i][j], num,t)
            tmp-=1*f[i][j]
        
        add=0
        if(k<=i):
            add=query(1,1,max_b,min(i+1-k,n), num,t)
        result=min(result,tmp+add)
    
    print(result)
            
        
    
    
    
    
    
        

##

> **【华为od机试真题Python+JS+Java合集】【超值优惠】：
> **[Py/JS/Java合集](https://blog.csdn.net/misayaaaaa/category_12258991.html
> "Py/JS/Java合集")****
>
> **【华为od机试真题Python】：
> **[Python真题题库](https://blog.csdn.net/misayaaaaa/category_12111005.html
> "Python真题题库")****
>
> **【华为od机试真题JavaScript】：
> **[JavaScript真题题库](https://blog.csdn.net/misayaaaaa/category_12199270.html
> "JavaScript真题题库")****
>
> **【华为od机试真题Java】：
> **[Java真题题库](https://blog.csdn.net/misayaaaaa/category_12111006.html
> "Java真题题库")****
>
> **【华为od机试真题C++】：
> **[C++真题题库](https://blog.csdn.net/misayaaaaa/category_12036814.html
> "C++真题题库")****
>
> **【华为od机试真题C语言】：
> **[C语言真题题库](https://blog.csdn.net/misayaaaaa/category_12217917.html
> "C语言真题题库")****
>
> **【华为od面试手撕代码题库】：
> **[面试手撕代码题库](https://renjie.blog.csdn.net/article/details/130419388
> "面试手撕代码题库")****
>
> **【华为od机试面试交流群：830285880】**

