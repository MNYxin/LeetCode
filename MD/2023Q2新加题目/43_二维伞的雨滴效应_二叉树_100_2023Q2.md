**目录**

题目

思路

Code

* * *

## 题目

>
> 普通的伞在二维平面世界中，左右两侧均有一条边，而两侧伞边最下面各有一个伞坠子，雨滴落到伞面，逐步流到伞坠处，会将伞坠的信息携带并落到地面，随着日积月累，地面会呈现伞坠的信息。
>
> 1、为了模拟伞状雨滴效应，用二叉树来模拟二维平面伞(如下图所示)，现在输入一串正整数数组序列(不含0，数组成员至少是1个)
> ，若此数组序列是二叉搜索树的前序遍历的结果，那么请输出一个返回值1，否则输出0.
>
>
> 2、同时请将此序列构成的伞状效应携带到地面的数字信息输出来(左边伞坠信息，右边伞坠信息，详细参考示例图地面上数字)，若此树不存在左或右扇坠，则对应位置返回0。同时若非
> 二叉排序树那么左右伞坠信息也返回0。
>
> ![](https://img-
> blog.csdnimg.cn/img_convert/494ec06ed0102f74c295bfc0b018240a.png)
>
> **输入描述:**  
>  1个通过空格分割的整数序列字符串，数组不含0，数组成员至少1个，输入的数组的任意两个数字都互不相同，最多1000个正整数，正整数值范围1~655350  
>  **输出描述:**  
>  输出如下三个值，以空格分隔: 是否二叉排序树，左侧地面呈现的伞坠数字值，右侧地面呈现的伞坠数字值.  
>  若是二叉排序树，则输出1，否则输出0 (其左右伞坠值也直接赋值0) 。  
>  若不存存在左侧或者右侧伞坠值，那么对应伞坠值直接赋值0。  
>  **示例1  
>  输入:**  
>  8 3 1 6 4 7 10 14 13  
>  **输出:**  
>  1 1 13  
>  **说明:**  
>  1表示是二叉搜索树前序遍历结果，1表示左侧地面呈现的伞坠数字值，13表示右侧地面呈现的伞坠数字值
>
> ![](https://img-blog.csdnimg.cn/85df4f07778343359bf002b0d8c09ba2.jpeg)

# 思路

> 1：虽然题目很长，但是通读一遍之后理解还是挺快的，就是两个要求：第一、判断是否为二叉搜索树前序遍历结果， **注意是二叉搜索树**
> 。第二、找到这颗二叉树的最左侧和最右侧子节点。
>
> 2：对于第一个目标，在 **二叉搜索树** 中， **中序遍历恰恰是将先序遍历排序后的结果** 。所以给出先序遍历的输出结构，便可以还原这棵二叉搜索树。
>
> [从前序遍历结果中重建二叉搜索树 | 始终](https://liam.page/2019/08/29/rebuild-a-binary-search-
> tree-from-its-preorder-traversal-result/ "从前序遍历结果中重建二叉搜索树 | 始终")
>
> 3： 对于第二个目标，leetcode 513就是一样的题型，可以参考下。[力扣](https://leetcode.cn/problems/find-
> bottom-left-tree-
> value/?utm_source=LCUS&utm_medium=ip_redirect&utm_campaign=transfer2china
> "力扣")

# ![](https://img-blog.csdnimg.cn/42eca8c5691144f2a9511821b795bf3e.jpeg)

# Code

    
    
    import functools
    import collections
    import math
    from itertools import combinations
    from re import match
    import copy 
    from collections import defaultdict
    
    class TreeNode:
        def __init__(self, val=0, left=None, right=None):
            self.val = val
            self.left = left
            self.right = right
    
    pre_order = [int(x) for x in input().split(" ")]
    root = TreeNode(pre_order[0])
    
    # 用一个栈来保存节点
    stack = []
    stack.append(root)
    # 辅助节点, 用来判断是否是二叉搜索树
    helper = TreeNode(-1)
    flag = True
    # 判断并构造二叉搜索树
    for i in range(1, len(pre_order)):
        node = stack[-1]
        currentNode = TreeNode(pre_order[i])
        while (len(stack)>0 and stack[-1].val < currentNode.val) :
            node = stack[-1]
            stack.pop()
            if(len(stack)>0):
                helper = stack[-1]
            
        #不满足二叉搜索树属性直接跳出
        if (node.val < currentNode.val) :
            node.right = currentNode
            helper = node
        else:
            if(currentNode.val < helper.val):
                flag = False
                break
            
            node.left = currentNode
        
        stack.append(currentNode)
    
    
    if(flag):
        leftNode = root
        while (leftNode.left is not None or leftNode.right is not None):
    
            if(leftNode.left is not None):
                leftNode = leftNode.left
            else :
                leftNode = leftNode.right
            
        
        rightNode = root
        while (rightNode.left is not None or rightNode.right is not None):
    
            if(rightNode.right is not None):
                rightNode = rightNode.right
            else :
                rightNode = rightNode.left
        
        res = "1"
        if leftNode.val == root.val:
            res += " 0"
        else:
            res += " " + str(leftNode.val)
    
        if rightNode.val == root.val:
            res += " 0"
        else:
            res += " " + str(rightNode.val)
        print(res)
    else :
        print("0 0 0")
    

##

> **【华为od机试真题Python+JS+Java合集】【超值优惠】：
> **[Py/JS/Java合集](https://blog.csdn.net/misayaaaaa/category_12258991.html
> "Py/JS/Java合集")****
>
> **【华为od机试真题Python】：
> **[Python真题题库](https://blog.csdn.net/misayaaaaa/category_12111005.html
> "Python真题题库")****
>
> **【华为od机试真题JavaScript】：
> **[JavaScript真题题库](https://blog.csdn.net/misayaaaaa/category_12199270.html
> "JavaScript真题题库")****
>
> **【华为od机试真题Java】：
> **[Java真题题库](https://blog.csdn.net/misayaaaaa/category_12111006.html
> "Java真题题库")****
>
> **【华为od机试真题C++】：
> **[C++真题题库](https://blog.csdn.net/misayaaaaa/category_12036814.html
> "C++真题题库")****
>
> **【华为od机试真题C语言】：
> **[C语言真题题库](https://blog.csdn.net/misayaaaaa/category_12217917.html
> "C语言真题题库")****
>
> **【华为od面试手撕代码题库】：
> **[面试手撕代码题库](https://renjie.blog.csdn.net/article/details/130419388
> "面试手撕代码题库")****
>
> **【华为od机试面试交流群：830285880】**

