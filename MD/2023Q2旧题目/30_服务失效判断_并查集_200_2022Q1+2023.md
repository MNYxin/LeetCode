**所有题目均有五种语言实现。 ** **
**[C实现目录](https://renjie.blog.csdn.net/article/details/129190260
"C实现目录")****** 、 ** ** **[C++
实现目录](https://blog.csdn.net/misayaaaaa/category_12036814.html "C++
实现目录")****** 、 ** **
**[Python实现目录](https://blog.csdn.net/misayaaaaa/category_12111005.html
"Python实现目录")****** 、 ** **
**[Java实现目录](https://blog.csdn.net/misayaaaaa/category_12111006.html
"Java实现目录")****** 、 ** **
**[JavaScript实现目录](https://blog.csdn.net/misayaaaaa/category_12199270.html
"JavaScript实现目录")********

# 题目

> 某系统中有众多服务，每个服务用字符串（只包含字母和数字，长度<=10）唯一标识，服务间可能有依赖关系，如A依赖B，则当B故障时导致A也故障。
>
> 依赖具有传递性，如A依赖B，B依赖C，当C故障时导致B故障，也导致A故障。
>
> 给出所有依赖关系，以及当前已知故障服务，要求输出所有正常服务。
>
> 依赖关系：服务1-服务2 表示“服务1”依赖“服务2”
>
> 不必考虑输入异常，用例保证：依赖关系列表、故障列表非空，且依赖关系数，故障服务数都不会超过3000，服务标识格式正常。
>
> **输入描述:**
>
> 半角逗号分隔的依赖关系列表 **（换行）**
>
> 半角逗号分隔的故障服务列表
>
> **输出描述:**
>
> 依赖关系列表中提及的所有服务中可以正常工作的服务列表，用半角逗号分隔，按依赖关系列表中出现的次序排序。
>
> 特别的，没有正常节点输出单独一个 **半角逗号** 。
>
> **示例1** 输入输出示例仅供调试，后台判题数据一般不包含示例
>
> **输入**
>
> `a1-a2,a5-a6,a2-a3`  
> `a5,a2`
>
> **输出**
>
> `a6,a3`
>
> **说明**
>
> a1依赖a2，a2依赖a3，所以a2故障，导致a1不可用，但不影响a3；a5故障不影响a6。
>
> 所以可用的是a3、a6，在依赖关系列表中a6先出现，所以输出:a6,a3。
>
> **示例2** 输入输出示例仅供调试，后台判题数据一般不包含示例
>
> **输入**
>
> `a1-a2`  
> `a2`
>
> **输出**
>
> `,`
>
> **说明**
>
> a1依赖a2，a2故障导致a1也故障，没有正常节点，输出一个逗号。

# 思路

> 1：典型的图搜索问题，不是BFS就是DFS。
>
> 2：用一个数据结构保存下来所有节点的依赖关系，然后对每一个故障进行深度遍历搜索即可。

# 考点

> 1：数据结构

# Code

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    import sys
    from collections import Counter, defaultdict
    import copy
    from itertools import permutations
    import re
    import math
    
    def is_normal(matrix,errors):
        temp = errors
        for error in errors:
            if error not in matrix.keys():
                continue
            else:
                for value in matrix[error]:
                    if value not in temp:
                        temp.append(value)
        if errors != temp:
            is_normal(matrix,temp)
        else:
            return errors
    
    relation,errors = input().split(","), input().split(",")
    matrix,items = defaultdict(list),list()
    for r in relation:
        a,b = r.split("-")
        for x in [a,b]:
            if x not in items:
                items.append(x)
        matrix[b].append(a)
    ret = is_normal(matrix,errors)
    normal = [item for item in items if item not in ret]
    print(",".join(normal) if normal else ",")

