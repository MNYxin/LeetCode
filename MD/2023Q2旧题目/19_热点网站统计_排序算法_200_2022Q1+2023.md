**目录**

题目

思路

输入输出

Code

要求

* * *

## 题目

> 企业路由器的统计页面，有一个功能需要动态统计公司访问最多的网页URL top N。请设计一个算法，可以高效动态统计Top N的页面。
>
> **输入描述**
>
> 每一行都是一个URL或一个数字，如果是URL，代表一段时间内的网页访问；  
>  如果是一个数字N，代表本次需要输出的Top N个URL。
>
> 输入约束
>
> 1、总访问网页数量小于5000个，单网页访问次数小于65535次；  
>  2、网页URL仅由字母，数字和点分隔符组成，且长度小于等于127字节；  
>  3、数字是正整数，小于等于10且小于当前总访问网页数；
>
> **输出描述**
>
> 每行输入要对应一行输出，输出按访问次数排序的前N个URL，用逗号分隔。
>
> 输出要求
>
> 1、每次输出要统计之前所有输入，不仅是本次输入；  
>  2、如果有访问次数相等的URL，按URL的字符串字典序升序排列，输出排序靠前的URL；
>
> **示例1** 输入输出示例仅供调试，后台判题数据一般不包含示例
>
> 输入
>
> news.qq.com  
>  news.sina.com.cn  
>  news.qq.com  
>  news.qq.com  
>  game.163.com  
>  game.163.com  
>  www.huawei.com  
>  www.cctv.com  
>  3  
>  www.huawei.com  
>  www.cctv.com  
>  www.huawei.com  
>  www.cctv.com  
>  www.huawei.com  
>  www.cctv.com  
>  www.huawei.com  
>  www.cctv.com  
>  www.huawei.com  
>  3
>
> 输出
>
> news.qq.com,game.163.com,news.sina.com.cn  
>  www.huawei.com,www.cctv.com,news.qq.com
>
> **示例2** 输入输出示例仅供调试，后台判题数据一般不包含示例
>
> 输入
>
> news.qq.com  
>  www.cctv.com  
>  1  
>  www.huawei.com  
>  www.huawei.com  
>  2  
>  3
>
> 输出
>
> news.qq.com  
>  www.huawei.com,news.qq.com  
>  www.huawei.com,news.qq.com,www.cctv.com

# 思路

>
> 1：对于数据结构的考察题目，需要维护一个数据结构HashMap<String,Integer>，这个结构要保存每个url，以及其对应的访问次数，每当输入一个网站，要更新每个url访问次数，并按照访问次数排序。
>
> 2：每当输入数字N时，需要输出前N个url。
>
> 3：重点就在于对hashmap按照value进行排序的方法。

# 输入输出

>
> 1：Python输入数据主要通过`input()`函数实现，`input()`会读取控制台一行的输入，如果输入有多行的话，需要多次使用`input()`。
>  
>  
>     # 输入为: 1 2 3 4 5
>     a = input()
>     # a = '1 2 3 4 5'
>
>
> 2：与Python2中不同，Python3中的`input()`会将接受的数据返回为一个`string`类型，如果一行中有多个数据的话，则需要使用`split()`进行切割。`split()`切割后返回一个列表。
>  
>  
>     # 输入为： 1 2 3 4 5
>     a = input().split() # split()默认以空字符为分隔符，包括空格、换行(\n)、制表符(\t)等
>     # a = ['1', '2', '3', '4', '5']
>  
>     # 输入为：1,2,3,4,5
>     b = input().split(',') # 以逗号为分隔符
>     # b = ['1', '2', '3', '4', '5']
>
>
> 3：因为`input()`返回的是`string`，分割后也是一个字符列表，如果输入数据是数字则需要进行类型转换。可以单个转换或是用列表批量转换，或者是使用`map()`并行转换。`map()`函数返回的是一个迭代器，不能改变值，如果需要改变值的话还需要转换成列表
>  
>  
>     # 输入为： 1
>     a = int(input()) # 单个转换
>  
>     # 输入为：1 2 3 4 5
>     b = input().split() # b = ['1', '2', '3', '4', '5']
>     c = [int(i) for i in b] # 使用列表进行批量转换 c = [1, 2, 3, 4, 5]
>     d = [int(i) for i in input().split()] # 当然可以一步倒位
>  
>     # 使用map进行并行转换
>     e = map(int, input().split()) # 此时e是一个map迭代器，不能赋值，也不能索引
>     f = list(e) # 转换为列表，e = [1, 2, 3, 4, 5]
>     g = list(map(int, input().split())) # 一步到位

# Code

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    import sys
    from collections import Counter, defaultdict
    import copy
    from itertools import permutations
    import re
    import math
    import sys
    
    def cmp(a, b): 
        if a[1] != b[1]:
            return b[1] - a[1]
        elif a[0] != b[0]:
            return 1 if a[0] > b[0] else -1
        else:
            return 0
     
    urls = []
    url_map = {} 
    def solve(input_str):
        global urls
        global url_map
        n = int(input_str)
        j = 0
        while(True):
            if(j>=len(urls)):
                break
            else:
                if urls[j] not in url_map:
                    url_map[ urls[j]] = 1
                else:
                    url_map[ urls[j]] += 1
            j+=1
        urlCount = sorted(list(url_map.items()), key=functools.cmp_to_key(cmp), reverse=False)
        output_str = ""
        for i in range(n):
            output_str += urlCount[i][0] + ","
        return output_str[:-1]
     
    result = ""
    while True:
        try:
            input_str = input()
            if input_str.isnumeric():
                result+= solve(input_str) + "\n"
                urls = []
            else:
                urls.append(input_str)
        except:
            break
    
    print(result[:-1])

## 要求

> 时间限制：C/C++ 1秒，其他语言 2秒
>
> 空间限制：C/C++262144K，其他语言524288K
>
> 64bit IO Format：%lld
>
> 语言限定：  
>  C（clang11）, C++（clang++11）, Pascal（fpc 3.0.2）, Java（javac 1.8）,
> Python2（2.7.3）,  
>  PHP(7.4.7), C#(mcs5.4), ObjC(gcc 5.4), Pythen3(3.9), JavaScript
> Node(12.18.2), JavaScript V8(6.0.0),  
>  Sqlite(3.7.9), R(4.0.3), Go(1.14.4), Ruby(2.7.1), Swift(5.3), matlab(Octave
> 5.2), Pypy2(pypy2.7.13),  
>  Pypy3(pypy3.6.1), Rust(1.44), Scala(2.11.12), Kotlin(1.4.10),
> Groovy(3.0.6), TypeScript(4.1.2), Mysql(8.0)

