**所有题目均有五种语言实现。 ** **
**[C实现目录](https://renjie.blog.csdn.net/article/details/129190260
"C实现目录")****** 、 ** ** **[C++
实现目录](https://blog.csdn.net/misayaaaaa/category_12036814.html "C++
实现目录")****** 、 ** **
**[Python实现目录](https://blog.csdn.net/misayaaaaa/category_12111005.html
"Python实现目录")****** 、 ** **
**[Java实现目录](https://blog.csdn.net/misayaaaaa/category_12111006.html
"Java实现目录")****** 、 ** **
**[JavaScript实现目录](https://blog.csdn.net/misayaaaaa/category_12199270.html
"JavaScript实现目录")********

# 题目

> 已知火星人使用的运算符为#、$，其与地球人的等价公式如下：
>
> x#y = 2*x+3*y+4
>
> x$y = 3*x+y+2
>
> 1、其中x、y是无符号整数
>
> 2、地球人公式按C语言规则计算
>
> 3、火星人公式中，$的优先级高于#，相同的运算符，按从左到右的顺序计算
>
> 现有一段火星人的字符串报文，请你来翻译并计算结果。
>
> **输入描述**
>
> 火星人字符串表达式（结尾不带回车换行）
>
> 输入的字符串说明：字符串为仅由无符号整数和操作符（#、$）组成的计算表达式。
>
> 例如：123#4$5#67$78。
>
>   1. 用例保证字符串中，操作数与操作符之间没有任何分隔符。
>   2. 用例保证操作数取值范围为32位无符号整数。
>   3. 保证输入以及计算结果不会出现整型溢出。
>   4. 保证输入的字符串为合法的求值报文，例如：123#4$5#67$78
>   5. 保证不会出现非法的求值报文，例如类似这样字符串：
>

>
> #4$5 //缺少操作数
>
> 4$5# //缺少操作数
>
> 4#$5 //缺少操作数
>
> 4 $5 //有空格
>
> 3+4-5*6/7 //有其它操作符
>
> 12345678987654321$54321 //32位整数计算溢出
>
> **输出描述**
>
> 根据输入的火星人字符串输出计算结果（结尾不带回车换行）。
>
> **示例1** 输入输出示例仅供调试，后台判题数据一般不包含示例
>
> **输入**
>
> `7#6$5#12`
>
> **输出**
>
> `226`
>
> **说明**
>
> **示例**
>
> 7#6$5#12
>
> =7#(3*6+5+2)#12
>
> =7#25#12
>
> =(2*7+3*25+4)#12
>
> =93#12
>
> =2*93+3*12+4
>
> =226

# 思路

> 1：利用一个栈来保存解析好的表达式，然后逐个的模拟计算即可。

# 考点

> 1：数据结构

# Code

    
    
    # coding:utf-8
    #JSRUN引擎2.0，支持多达30种语言在线运行，全仿真在线交互输入输出。 
    import functools
    import sys
    from collections import Counter
    import copy
    from itertools import permutations
    import re
    import math
    
    input_ops = input().split("#")
    res = input_ops[0]
    if "$" in res:
        ret = res.split("$")
        res = ret[0]
        for num in ret[1:]:
            res = 3 * int(res) + int(num) + 2
    else:
        res = int(res)
    
    for i in range(1, len(input_ops)):
        if "$" in input_ops[i]:
            num_list = input_ops[i].split("$")
            temp = num_list[0]
            for num in num_list[1:]:
                temp = 3 * int(temp) + int(num) + 2
            res = 2 * int(res) + 3 * int(temp) + 4
        else:
            res = 2 * int(res) + 3 * int(input_ops[i]) + 4
            
    print(res)

